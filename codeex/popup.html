<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Codex - Problem Extractor</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <header class="header">
      <div class="logo">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="#2563EB" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M2 17L12 22L22 17" stroke="#2563EB" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M2 12L12 17L22 12" stroke="#2563EB" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <span class="logo-text">Codex</span>
      </div>
    </header>

    <main class="main">
      <!-- Loading State -->
      <div class="loading" id="loading">
        <div class="spinner"></div>
        <span>Scanning page...</span>
      </div>

      <!-- Question Card -->
      <div id="question-card" class="question-card" style="display: none;">
        <div class="question-header">
          <div class="question-badges">
            <span id="question-number" class="question-number">#85</span>
            <span id="solved-badge" class="solved-badge" style="display: none;">âœ“ Solved</span>
          </div>
          <a id="question-link" class="question-link" href="#" target="_blank" title="Open in LeetCode">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M18 13V19C18 19.5304 17.7893 20.0391 17.4142 20.4142C17.0391 20.7893 16.5304 21 16 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V8C3 7.46957 3.21071 6.96086 3.58579 6.58579C3.96086 6.21071 4.46957 6 5 6H11" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M15 3H21V9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M10 14L21 3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </a>
        </div>
        <h2 id="question-name" class="question-name">Maximal Rectangle</h2>
      </div>

      <!-- Topics Section -->
      <h3 id="topics-title" class="section-title" style="display: none;">Topics</h3>
      <div id="topics-list" class="topics-list" style="display: none;"></div>

      <!-- No Data State -->
      <div id="no-topics" class="no-topics" style="display: none;">
        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="12" cy="12" r="10" stroke="#94A3B8" stroke-width="2"/>
          <path d="M8 15C8 15 9.5 17 12 17C14.5 17 16 15 16 15" stroke="#94A3B8" stroke-width="2" stroke-linecap="round"/>
          <circle cx="9" cy="10" r="1" fill="#94A3B8"/>
          <circle cx="15" cy="10" r="1" fill="#94A3B8"/>
        </svg>
        <p>No problem detected on this page</p>
        <span class="hint">Navigate to a LeetCode problem page</span>
      </div>

      <!-- Error State -->
      <div id="error-message" class="error-message" style="display: none;">
        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="12" cy="12" r="10" stroke="#EF4444" stroke-width="2"/>
          <path d="M12 8V12" stroke="#EF4444" stroke-width="2" stroke-linecap="round"/>
          <circle cx="12" cy="16" r="1" fill="#EF4444"/>
        </svg>
        <p id="error-text">Unable to extract data</p>
      </div>
    </main>

    <footer class="footer">
      <div class="footer-buttons">
        <button id="copy-btn" class="copy-btn" style="display: none;">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect x="9" y="9" width="13" height="13" rx="2" stroke="currentColor" stroke-width="2"/>
            <path d="M5 15H4C2.89543 15 2 14.1046 2 13V4C2 2.89543 2.89543 2 4 2H13C14.1046 2 15 2.89543 15 4V5" stroke="currentColor" stroke-width="2"/>
          </svg>
          Copy JSON
        </button>
        <button id="refresh-btn" class="refresh-btn">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M23 4V10H17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M1 20V14H7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M3.51 9C4.01717 7.56678 4.87913 6.2854 6.01547 5.27542C7.1518 4.26543 8.52547 3.55976 10.0083 3.22426C11.4911 2.88875 13.0348 2.93434 14.4952 3.35677C15.9556 3.77921 17.2853 4.56471 18.36 5.64L23 10M1 14L5.64 18.36C6.71475 19.4353 8.04437 20.2208 9.50481 20.6432C10.9652 21.0657 12.5089 21.1112 13.9917 20.7757C15.4745 20.4402 16.8482 19.7346 17.9845 18.7246C19.1209 17.7146 19.9828 16.4332 20.49 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          Refresh
        </button>
      </div>
    </footer>
  </div>

  <script src="popup.js"></script>
</body>
</html>
